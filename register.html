<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CrownForge | Arena Registration</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;900&family=Plus+Jakarta+Sans:wght@400;600&display=swap" rel="stylesheet">

<style>
  :root {
    --neon: #00f2ff;
    --neon-dark: #008080;
    --bg-dark: #02040a;
    --glass: rgba(255, 255, 255, 0.05);
  }

  * { box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }

  body {
    margin: 0; padding: 0; min-height: 100vh;
    background: var(--bg-dark);
    background-image: radial-gradient(circle at top right, rgba(0, 242, 255, 0.15), transparent 40%);
    display: flex; justify-content: center; align-items: center;
    overflow-x: hidden; color: #fff;
  }

  .container {
    width: 95%; max-width: 480px;
    background: rgba(2, 4, 10, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(0, 242, 255, 0.2);
    border-radius: 24px;
    padding: 35px;
    text-align: center;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
  }

  h2 {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    color: var(--neon);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 25px;
    text-shadow: 0 0 10px rgba(0, 242, 255, 0.5);
  }

  .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .full-width { grid-column: span 2; }

  input, select {
    width: 100%; padding: 12px 15px;
    margin-bottom: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.03);
    color: white; font-size: 14px;
    outline: none; transition: 0.3s;
  }

  input:focus, select:focus {
    border-color: var(--neon);
    background: rgba(0, 242, 255, 0.05);
    box-shadow: 0 0 15px rgba(0, 242, 255, 0.2);
  }

  option { background: #0a0a0a; color: white; }

  button {
    width: 100%; padding: 15px;
    margin-top: 10px; border: none;
    border-radius: 12px;
    background: linear-gradient(135deg, var(--neon), #0072ff);
    color: #000; font-family: 'Orbitron';
    font-weight: 900; cursor: pointer;
    transition: 0.3s; text-transform: uppercase;
  }

  button:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(0, 242, 255, 0.4);
  }

  button:disabled { opacity: 0.6; cursor: not-allowed; }

  #message { margin-top: 20px; font-size: 13px; line-height: 1.5; }
  .success { color: var(--neon); }
  .error { color: #ff4d4d; }

  @media (max-width: 480px) {
    .form-grid { grid-template-columns: 1fr; }
    .full-width { grid-column: span 1; }
    .container { padding: 25px 20px; }
  }
</style>
</head>
<body>

<div class="container">
  <h2>Arena Registration</h2>
  <form id="registerForm">
    <div class="form-grid">
      <input type="text" id="fullName" placeholder="Full Name" class="full-width" required>
      <input type="text" id="ign" placeholder="In-Game Name (IGN)" required>
      <input type="text" id="playerId" placeholder="Player ID / UID" required>
      <input type="text" id="teamName" placeholder="Team Name" class="full-width" required>
      <input type="email" id="email" placeholder="Email Address" class="full-width" required>
      <input type="tel" id="phone" placeholder="Phone Number" required>
      <input type="text" id="discord" placeholder="Discord ID">
      <input type="text" id="tournamentName" placeholder="Tournament Name" class="full-width" required>
    </div>

    <select id="matchType" required>
      <option value="">Select Match Type</option>
      <option value="Solo">Solo</option>
      <option value="Duo">Duo</option>
      <option value="Squad">Squad</option>
    </select>

    <div class="form-grid">
      <select id="region">
        <option value="India">India</option>
        <option value="Asia">Asia</option>
        <option value="Europe">Europe</option>
      </select>
      <select id="language">
        <option value="Hindi">Hindi</option>
        <option value="English">English</option>
      </select>
    </div>

    <button type="submit" id="submitBtn">Transmit Data</button>
    <div id="message"></div>
  </form>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDNy1J7zVJMLGLsyUxRT1EIaIBruI_p2G8",
    authDomain: "crownforgestudio-2581a.firebaseapp.com",
    projectId: "crownforgestudio-2581a",
    storageBucket: "crownforgestudio-2581a.firebasestorage.app",
    messagingSenderId: "223324386293",
    appId: "1:223324386293:web:9d7919c6b2e93781b026bc"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const webhookURL = "https://discord.com/api/webhooks/1436267732827115660/myV-BKwgFu9bd2BY_SNz88dD93LYhwsizXilXi8aHw66eSXq6KX0VAyR1yGlVmHMJ9dw";

  const form = document.getElementById("registerForm");
  const messageDiv = document.getElementById("message");
  const btn = document.getElementById("submitBtn");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    btn.disabled = true;
    btn.textContent = "Processing Signal...";
    
    const formData = {
      fullName: document.getElementById("fullName").value,
      ign: document.getElementById("ign").value,
      playerId: document.getElementById("playerId").value,
      teamName: document.getElementById("teamName").value,
      email: document.getElementById("email").value,
      phone: document.getElementById("phone").value,
      discord: document.getElementById("discord").value || "N/A",
      tournamentName: document.getElementById("tournamentName").value,
      matchType: document.getElementById("matchType").value,
      region: document.getElementById("region").value,
      language: document.getElementById("language").value,
      timestamp: new Date().toLocaleString()
    };

    try {
      // 1. Firebase Save
      await addDoc(collection(db, "tournament_registrations"), formData);

      // 2. Discord Embed (Better Look)
      const discordPayload = {
        embeds: [{
          title: "üèÜ New Arena Registration",
          color: 0x00f2ff,
          fields: [
            { name: "üë§ Name", value: formData.fullName, inline: true },
            { name: "üéÆ IGN", value: formData.ign, inline: true },
            { name: "üÜî UID", value: formData.playerId, inline: true },
            { name: "üë• Team", value: formData.teamName, inline: true },
            { name: "üéØ Event", value: formData.tournamentName, inline: true },
            { name: "‚öîÔ∏è Type", value: formData.matchType, inline: true },
            { name: "üì± Contact", value: formData.phone, inline: true },
            { name: "üìß Email", value: formData.email }
          ],
          footer: { text: "CrownForge Arena ‚Ä¢ System Logs" },
          timestamp: new Date()
        }]
      };

      await fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(discordPayload)
      });

      messageDiv.innerHTML = `<div class="success">‚úÖ TRANSMISSION COMPLETE.<br>Data secured in Neural Core & Discord Logs.</div>`;
      form.reset();
    } catch (error) {
      messageDiv.innerHTML = `<div class="error">‚ùå SIGNAL LOST: ${error.message}</div>`;
    } finally {
      btn.disabled = false;
      btn.textContent = "Transmit Data";
    }
  });
</script>
</body>
</html>